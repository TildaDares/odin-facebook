var postId = '<%= @post.id %>'
function toggleLikeButton(postId, favoritedPost) {
  let likeButton = document.querySelector(`.like-icon[data-id='${postId}']`)
  likeButton.classList.toggle('text-color');
  if (likeButton.classList.contains('text-color')) {
    const favoriteList = document.querySelector('.favorites');
    favoriteList.insertAdjacentHTML('beforeend', favoritedPost)
  }
  else {
    document.querySelector(`.favorite[data-id='${postId}']`).remove()
  }
}
$(".likes-count-<%= @post.id %>").html('<%= escape_javascript @post.favoritors.size %>');
toggleLikeButton(postId, '<%= j render "users/favorites", fave: @post %>');